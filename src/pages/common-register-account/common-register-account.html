<ion-content padding class="page page--money-4">
  <back-button [navCtrl]="navCtrl"></back-button>
  <form class="registerAccount" [formGroup]="profileFG" (submit)="createAccount()">
    <h1 class="text-center">Crear cuenta</h1>
    <h5 class="text-center">Ingrese sus datos personales</h5>
    <ion-grid radio-group formControlName="type" *ngIf="userType == '1'">
      <ion-row justify-content-around>
        <ion-col col-auto>
          <ion-row align-items-center>
            <ion-col col-auto>
              <div #casaCambioRadio>
                <ion-radio mode="md" color="secondary" [value]="'0'"></ion-radio>
              </div>
            </ion-col>
            <ion-col col-auto (tap)="profileFG.patchValue({ type: '0' })">
              Casa de <br> cambio
            </ion-col>
          </ion-row>        
        </ion-col>
        <ion-col col-auto>
          <ion-row align-items-center>
            <ion-col col-auto>
              <div #cambistaRadio>
                <ion-radio mode="md" color="secondary" [value]="'1'"></ion-radio>
              </div>
            </ion-col>
            <ion-col col-auto (tap)="profileFG.patchValue({ type: '1' })">
              Cambista
            </ion-col>
          </ion-row>        
        </ion-col>
      </ion-row>
    </ion-grid>
    <ion-grid radio-group formControlName="type" *ngIf="userType == '0'">
      <ion-row justify-content-around>
        <ion-col col-auto>
          <ion-row align-items-center>
            <ion-col col-auto>
              <div #casaCambioRadio>
                <ion-radio mode="md" color="secondary" [value]="'0'"></ion-radio>
              </div>
            </ion-col>
            <ion-col col-auto (tap)="profileFG.patchValue({ type: '0' })">
              Persona <br> natural
            </ion-col>
          </ion-row>        
        </ion-col>
        <ion-col col-auto>
          <ion-row align-items-center>
            <ion-col col-auto>
              <div #cambistaRadio>
                <ion-radio mode="md" color="secondary" [value]="'1'"></ion-radio>
              </div>
            </ion-col>
            <ion-col col-auto (tap)="profileFG.patchValue({ type: '1' })">
              Persona <br> jurídica
            </ion-col>
          </ion-row>        
        </ion-col>
      </ion-row>
    </ion-grid>
    <div>
      <div class="p-5" *ngIf="isExchangeAgent"><input type="text" class="fill-width" placeholder="Nombre / Razón social" formControlName="name"></div>
      <div class="p-5" *ngIf="isPerson && profileFG.value.type == '0'"><input type="text" class="fill-width" placeholder="Nombres" formControlName="firstName"></div>
      <div class="p-5" *ngIf="isPerson && profileFG.value.type == '0'"><input type="text" class="fill-width" placeholder="Apellidos" formControlName="lastName"></div>
      <div class="p-5" *ngIf="isPerson && profileFG.value.type == '1'"><input type="text" class="fill-width" placeholder="Razón social" formControlName="businessName"></div>
      <div class="p-5" *ngIf="isPerson && profileFG.value.type == '1'"><input type="text" class="fill-width" placeholder="Ruc" formControlName="ruc"></div>
      <div class="p-5" *ngIf="isExchangeAgent"><input type="text" class="fill-width" placeholder="Dni / Ruc" formControlName="documentNumber"></div>
      <ng-container *ngIf=" (isExchangeAgent && profileFG.value.type == '1') || (isPerson && profileFG.value.type == '0') ">
        <div class="p-5 pos-relative">
          <input type="text" class="fill-width" placeholder="Fecha de nacimiento" formControlName="formatBirthdate" readonly>
          <ion-datetime class="opacity-0" displayFormat="DD/MM/YYYY" formControlName="birthdate"
          pickerFormat="DD MM YYYY"></ion-datetime>
        </div>
      </ng-container>
      <div class="p-5" *ngIf="isPerson && profileFG.value.type == '0'"><input type="text" class="fill-width" placeholder="Dni / Carné de extranjería" formControlName="documentNumber"></div>
      <div class="p-5" *ngIf="isExchangeAgent"><input type="text" class="fill-width" placeholder="Dirección" formControlName="address"></div>
      <div class="p-5" *ngIf="isExchangeAgent"><input type="text" class="fill-width" placeholder="Teléfono / celular" formControlName="phone"></div>
      <div class="p-5" *ngIf="isPerson"><input type="text" class="fill-width" placeholder="Celular" formControlName="cellphone"></div>
      <div class="p-5" *ngIf="isExchangeAgent"><input type="text" class="fill-width" placeholder="Número de registro de la SBS" formControlName="sbsRegisterNumber"></div>
      <ng-container formGroupName="user">
          <div class="p-5"><input type="text" class="fill-width" placeholder="Correo electrónico" formControlName="email"></div>
          <div class="p-5"><input type="password" class="fill-width" placeholder="Contraseña" formControlName="password"></div>
      </ng-container>
    </div>
    <div class="p-5">
      <a href="" class="text-white" (tap)="$event.stopPropagation;onAddBankAccount()">Agregar cuenta bancaria</a>
    </div>
    <div>
      <ion-row justify-content-around radio-group formControlName="acceptTermsAndConditions">
        <ion-col col-auto>
          <ion-row align-items-center>
            <ion-col col-auto>
              <ion-radio mode="md" color="secondary" [value]="true" [checked]="profileFG.value.acceptTermsAndConditions"></ion-radio>
            </ion-col>
            <ion-col col-auto>
              <a href="" class="text-accent" (tap)="openTermsAndConditions($event)">Aceptar los términos y condiciones</a>
            </ion-col>
          </ion-row>        
        </ion-col>
      </ion-row>
    </div>
    <ion-row justify-content-center>
      <button fluid ion-button color="secondary">
        Crear cuenta
      </button>
    </ion-row>
  </form>
</ion-content>
